// [Plugins - Core] Graph Base
.graph-controls-button.mod-close {
	top: 0;
	right: var(--size-4-1);
	padding: var(--size-2-1);
}

.graph-controls-button.mod-reset {
	top: 0;
	right: var(--size-4-8);
	padding: var(--size-2-1);
}

.workspace-leaf-content[data-type="graph"] .view-content,
.workspace-leaf-content[data-type="localgraph"] .view-content,
.graph-controls {
	.theme-light & {
		background-color: var(--background-primary);
	}

	.theme-dark & {
		background-color: var(--background-secondary-alt);
	}
}

.graph-controls {
	// Replaces set width with min width so that when everything is collapsed it can take less space
	width: unset;
	min-width: var(--graph-controls-width);

	&.is-close {
		padding: var(--size-4-1);
		background: var(--background-secondary-blur);
		-webkit-backdrop-filter: blur(var(--blur-intensity));
		backdrop-filter: blur(var(--blur-intensity));
		border: 1px solid var(--window-border-color);
	}

	.tree-item-self {
		padding-left: var(--size-4-6);
		margin-bottom: -1px;
		background-color: var(--background-secondary);
		border-bottom: 1px solid var(--window-border-color);
		border-radius: unset;
	}
}

.graph-control-section {
	padding: unset;

	&:last-child .tree-item-children {
		padding-bottom: var(--size-4-2);
	}

	> .tree-item-self:hover {
		background-color: var(--background-modifier-hover);
		* {
			color: var(--highlight-text-normal);
		}
	}

	.tree-item-children {
		padding: var(--size-4-2);
	}

	.setting-item:not(.mod-search-setting) {
		padding: var(--size-2-3) var(--size-4-2);
	}
}

:is(.graph-view.color-fill-unresolved, .graph-view.color-arrow) {
	opacity: 1;
}

// [Plugins - Core] Graph LT
.theme-light {
	.graph-view.color-line {
		opacity: var(--graph-line-opacity-lt);
	}

	.graph-view.color-fill {
		opacity: var(--graph-fill-opacity-lt);
	}

	.graph-view.color-fill-focused {
		opacity: var(--graph-fill-focused-opacity-lt);
	}

	.graph-view.color-fill-tag {
		opacity: var(--graph-tag-opacity-lt);
	}

	.graph-view.color-fill-attachment {
		opacity: var(--graph-attachment-opacity-lt);
	}

	.graph-view.color-fill-unresolved {
		opacity: var(--graph-unresolved-opacity-lt);
	}

	.graph-view.color-fill-highlight {
		color: var(--graph-highlight-color-lt);
		opacity: var(--graph-highlight-opacity-lt);
	}

	.graph-view.color-line-highlight {
		color: var(--graph-highlight-line-color-lt);
		opacity: var(--graph-highlight-line-opacity-lt);
	}
}

// [Plugins - Core] Graph DT
.theme-dark {
	.graph-view.color-line {
		opacity: var(--graph-line-opacity-dt);
	}

	.graph-view.color-fill {
		opacity: var(--graph-fill-opacity-dt);
	}

	.graph-view.color-fill-focused {
		opacity: var(--graph-fill-focused-opacity-dt);
	}

	.graph-view.color-fill-tag {
		opacity: var(--graph-tag-opacity-dt);
	}

	.graph-view.color-fill-attachment {
		opacity: var(--graph-attachment-opacity-dt);
	}

	.graph-view.color-fill-unresolved {
		opacity: var(--graph-unresolved-opacity-dt);
	}

	.graph-view.color-fill-highlight {
		color: var(--graph-highlight-color-dt);
		opacity: var(--graph-highlight-opacity-dt);
	}

	.graph-view.color-line-highlight {
		color: var(--graph-highlight-line-color-dt);
		opacity: var(--graph-highlight-line-opacity-dt);
	}
}